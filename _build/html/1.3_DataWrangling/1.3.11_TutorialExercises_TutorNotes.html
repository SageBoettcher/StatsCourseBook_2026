
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Tutorial Exercises &#8212; Introduction to Statistics and Data Science</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css?v=6644e6bb" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = '1.3_DataWrangling/1.3.11_TutorialExercises_TutorNotes';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/dice.jpg" class="logo__image only-light" alt="Introduction to Statistics and Data Science - Home"/>
    <script>document.write(`<img src="../_static/dice.jpg" class="logo__image only-dark" alt="Introduction to Statistics and Data Science - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Welcome
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Preparation</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../0.1_PrepWork/MT_wk0_intro.html">1. Preparatory Work</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../0.1_PrepWork/MT_wk0_datacamp.html">1.2. Datacamp</a></li>
<li class="toctree-l2"><a class="reference internal" href="../0.1_PrepWork/MT_wk0_JupyterLab.html">1.3. Using Anaconda and JupyterLab</a></li>
<li class="toctree-l2"><a class="reference internal" href="../0.1_PrepWork/MT_wk0_Colab.html">1.4. Using Google Colab</a></li>
<li class="toctree-l2"><a class="reference internal" href="../0.1_PrepWork/MT_wk0_For.html">1.5. The FOR loop</a></li>
<li class="toctree-l2"><a class="reference internal" href="../0.1_PrepWork/MT_wk0_ForIf.html">1.6. FOR loop with IF statement</a></li>
<li class="toctree-l2"><a class="reference internal" href="../0.1_PrepWork/MT_wk0_random.html">1.7. Simulating a random process</a></li>

<li class="toctree-l2"><a class="reference internal" href="../0.1_PrepWork/MT_wk0_ChatGPT.html">1.9. ChatGPT</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Exploring Data</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../1.1_DescribingData/1.1.1_Intro.html">1. Describing Data</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../1.1_DescribingData/1.1.2_Outcomes.html">1.2. Learning Objectives</a></li>
<li class="toctree-l2"><a class="reference internal" href="../1.1_DescribingData/1.1.3_MeanMedianMode.html">1.3. Mean, median and mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../1.1_DescribingData/1.1.4_StDevIQR.html">1.4. Standard Deviation and IQR</a></li>
<li class="toctree-l2"><a class="reference internal" href="../1.1_DescribingData/1.1.5_Skew.html">1.5. Skew</a></li>
<li class="toctree-l2"><a class="reference internal" href="../1.1_DescribingData/1.1.6_Correlation.html">1.6. Correlation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../1.1_DescribingData/1.1.7_ConceptCheck.html">1.7. Concepts Review</a></li>
<li class="toctree-l2"><a class="reference internal" href="../1.1_DescribingData/1.1.8_PythonIndexing.html">1.8. Python: Descriptives and Indexing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../1.1_DescribingData/1.1.9_tables.html">1.9. Tables of descriptive statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../1.1_DescribingData/1.1.10_TutorialExercises.html">1.10. Tutorial Exercises</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../1.2_DataVisualization/1.2.1_Intro.html">2. Data Visualization</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../1.2_DataVisualization/1.2.3_ChoosingPlots.html">2.2. Choosing and interpreting plots</a></li>
<li class="toctree-l2"><a class="reference internal" href="../1.2_DataVisualization/1.2.4_snsplt.html">2.3. <code class="docutils literal notranslate"><span class="pre">Seaborn</span></code> and <code class="docutils literal notranslate"><span class="pre">Matplotlib</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../1.2_DataVisualization/1.2.5_histogram.html">2.4. Visualizing Distributions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../1.2_DataVisualization/1.2.6_boxplot.html">2.5. Comparing Categories</a></li>
<li class="toctree-l2"><a class="reference internal" href="../1.2_DataVisualization/1.2.7_scatterplot.html">2.6. 2D Data: Correlation and Pairwise Effects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../1.2_DataVisualization/1.2.8_lineplot.html">2.7. Timeseries data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../1.2_DataVisualization/1.2.9_tweaks.html">2.8. Tweaking plots</a></li>
<li class="toctree-l2"><a class="reference internal" href="../1.2_DataVisualization/1.2.10_TutorialExercises.html">2.9. Tutorial Exercises</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="1.3.1_Intro.html">3. Data Wrangling</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="1.3.2_Outcomes.html">3.2. Learning Objectives</a></li>
<li class="toctree-l2"><a class="reference internal" href="1.3.3_FindOutliers.html">3.3. Locating bad datapoints</a></li>
<li class="toctree-l2"><a class="reference internal" href="1.3.4_NaNing.html">3.4. Neutralizing bad datapoints</a></li>
<li class="toctree-l2"><a class="reference internal" href="1.3.5_NanHandling.html">3.5. Handling NaNs</a></li>
<li class="toctree-l2"><a class="reference internal" href="1.3.7_CreateColumns.html">3.6. Creating new variables/columns</a></li>
<li class="toctree-l2"><a class="reference internal" href="1.3.8_ZScoreQuantiles.html">3.7. Standardizing data</a></li>
<li class="toctree-l2"><a class="reference internal" href="1.3.9_ReportExample.html">3.8. Preparing a report</a></li>
<li class="toctree-l2"><a class="reference internal" href="1.3.10_Assignment1_ModelAnswer.html">3.9. Model Client Report</a></li>
<li class="toctree-l2"><a class="reference internal" href="1.3.11_TutorialExercises.html">3.10. Tutorial Exercises</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Statistical Theory</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../2.1_Probability/2.1.1_Probability_intro.html">1. Probability</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../2.1_Probability/2.1.2_Probability_outcomes.html">1.2. Learning Objectives</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2.1_Probability/2.1.3_KolmogorovAxioms.html">1.3. Kolmogorov Axioms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2.1_Probability/2.1.4_Diagrams.html">1.4. Probability Diagrams</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2.1_Probability/2.1.5_Independence.html">1.5. Statsitical Independence</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2.1_Probability/2.1.6_EventCombinations.html">1.6. Event combinations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2.1_Probability/2.1.7_BayesTheorem.html">1.7. Bayes Theorem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2.1_Probability/2.1.8_ConceptRecap.html">1.8. Concepts Recap</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2.1_Probability/2.1.9_PythonExercises.html">1.9. Python Exercises</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2.1_Probability/2.1.10_ExtensionWork.html">1.10. Set up Python libraries</a></li>






</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../2.2_DataGeneratingDistributions/2.2.1_binomial_overallIntro.html">2. Data generating distributions</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../2.2_DataGeneratingDistributions/2.2.2_binomial_objectives.html">2.2. Learning Objectives</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2.2_DataGeneratingDistributions/2.2.3_binomial_intro.html">2.3. The Binomial Distribution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2.2_DataGeneratingDistributions/2.2.4_binomial_singlecoin.html">2.4. Simulated coin toss</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2.2_DataGeneratingDistributions/2.2.5_binomial_10000reps.html">2.5. Repeat the simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2.2_DataGeneratingDistributions/2.2.6_binomial_nandp.html">2.6. Changing <span class="math notranslate nohighlight">\(n\)</span> and <span class="math notranslate nohighlight">\(p\)</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="../2.2_DataGeneratingDistributions/2.2.7_binomial_PMFandCDF.html">2.7. Binomial PMF and CDF</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2.2_DataGeneratingDistributions/2.2.8_AnalyticVsNumerical.html">2.8. Analytical vs numerical approaches</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2.2_DataGeneratingDistributions/2.2.9_NormalDistribution.html">2.9. Normal Distribution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2.2_DataGeneratingDistributions/2.2.10_NormalSimulation.html">2.10. Tutorial Exercises 1: Simulating Normal data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2.2_DataGeneratingDistributions/2.2.11_binomial_NormalApprox.html">2.11. Normal approximation to the binomial</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2.2_DataGeneratingDistributions/2.2.12_TutorialExercises.html">2.12. Tutorial Exercises 2: Normal/Binomial</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../2.3_Sampling/2.3.1_sampling_intro.html">3. Sampling</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../2.3_Sampling/2.3.2_sampling_outcomes.html">3.2. Learning Objectives</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2.3_Sampling/2.3.3_sampling_overview.html">3.3. Sampling overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2.3_Sampling/2.3.4_replacement.html">3.4. Sampling with and without replacement</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2.3_Sampling/2.3.5_SampleDataDistribution.html">3.5. Sample vs population</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2.3_Sampling/2.3.6_SamplingDistributionOfTheMean.html">3.6. Sampling Distribution of the Mean</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2.3_Sampling/2.3.7_CentralLimitTheorem.html">3.7. Central Limit Theorem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2.3_Sampling/2.3.8_InferenceFromSamples.html">3.8. Inference from a <em>sample</em></a></li>
<li class="toctree-l2"><a class="reference internal" href="../2.3_Sampling/2.3.9_ConfidenceIntervals.html">3.9. Confidence intervals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2.3_Sampling/2.3.10_ConceptRecap.html">3.10. Concepts Review</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2.3_Sampling/2.3.11_TutorialExercises.html">3.11. Tutorial exercises: Sampling</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Hypothesis Testing</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../3.1_PermutationTest/3.1.1_permutation_intro.html">1. Permutation Testing</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../3.1_PermutationTest/3.1.2_permutation_outcomes.html">1.2. Learning Objectives</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3.1_PermutationTest/3.1.3_HypothesisTesting.html">1.3. Hypothesis testing concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3.1_PermutationTest/3.1.4_OneTwoTail.html">1.4. One- and two-tailed tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3.1_PermutationTest/3.1.5_PermutationTypes.html">1.5. Permutation testing overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3.1_PermutationTest/3.1.6_functions.html">1.6. Python Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3.1_PermutationTest/3.1.7_permutation_paired.html">1.7. Permutation test for paired data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3.1_PermutationTest/3.1.8_permutation_unpaired.html">1.8. Permutation test for unpaired or independent samples data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3.1_PermutationTest/3.1.9_permutation_correlation.html">1.9. Permutation test for correlation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3.1_PermutationTest/3.1.10_permutation_practice.html">1.10. Permutation testing - more practice</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3.1_PermutationTest/3.1.11_permutation_TutorialExercises.html">1.11. Tutorial exercises</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../3.2_RankBasedTests/3.2.1_classictests_intro.html">2. Rank-Based Tests</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../3.2_RankBasedTests/3.2.2_outcomes.html">2.2. Learning Objectives: Rank-Based Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3.2_RankBasedTests/3.2.3_nonpara_intro.html">2.3. Rank-based tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3.2_RankBasedTests/3.2.4_MedianMean.html">2.4. Difference of medians vs difference of means</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3.2_RankBasedTests/3.2.5_nonpara_MannWhitneyU.html">2.5. Rank Sum Test</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3.2_RankBasedTests/3.2.6_nonpara_WilcoxonSignRank.html">2.6. The Wilcoxon Sign-Rank Test</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3.2_RankBasedTests/3.2.7_spearman.html">2.7. Spearman’s Rank Correlation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3.2_RankBasedTests/3.2.8_TutorialExercises.html">2.8. Tutorial Exercises: non-parametric tests</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../3.3_ttest/3.3.1_ttest_intro.html">3. t-Test</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../3.3_ttest/3.3.3_HypothesisTestingRecap.html">3.2. Hypothesis testing roundup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3.3_ttest/3.3.4_BestFittingNormal.html">3.3. Best fitting Normal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3.3_ttest/3.3.5_tDistribution.html">3.4. The t distribution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3.3_ttest/3.3.6_ttest_oneSample.html">3.5. One sample t-test</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3.3_ttest/3.3.7_ttest_pairedSamples.html">3.6. Paired Samples t-test</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3.3_ttest/3.3.8_ttest_independentSamples.html">3.7. Independent samples t-test</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3.3_ttest/3.3.9_TutorialExercises.html">3.8. Tutorial Exercises: <span class="math notranslate nohighlight">\(t\)</span>-test and non-parametric equivalents</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../3.4_Power/3.4.1_power_intro.html">4. Power analysis</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../3.4_Power/3.4.2_outcomes.html">4.2. Learning Objectives</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3.4_Power/3.4.3_Type1and2Errors.html">4.3. False positives and False negatives</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3.4_Power/3.4.4_EffectSize.html">4.4. Effect size (Cohen’s d)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3.4_Power/3.4.5_EffectSizeCorrelation.html">4.5. Effect size (Pearson’s r)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3.4_Power/3.4.6_PowerCorrelationSim.html">4.6. Power analysis by simulation</a></li>

<li class="toctree-l2"><a class="reference internal" href="../3.4_Power/3.4.7_BuiltInPowerCalc.html">4.8. Power analysis with <code class="docutils literal notranslate"><span class="pre">statsmodels</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../3.4_Power/3.4.8_DeterminingEffectSize.html">4.9. Knowing the effect size</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3.4_Power/3.4.9_SampleSizeAndPower.html">4.10. Sample size and power</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3.4_Power/3.4.10_power_conceptCheck.html">4.11. Concepts Review</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3.4_Power/3.4.11_TutorialExercises.html">4.12. Tutorial Exercises</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Regression Models</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../4.1_Regression1/regression1_intro.html">1. Regression</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../4.1_Regression1/regression1_outcomes.html">1.1. Learning Objectives</a></li>
<li class="toctree-l2"><a class="reference internal" href="../4.1_Regression1/regression1_concepts.html">1.2. Regression Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../4.1_Regression1/regression1_interpretingSlope.html">1.3. Interpreting the slope and intercept, prediction and residuals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../4.1_Regression1/regression1_QandA.html">1.4. Regression, Covariance and Correlation Q&amp;A</a></li>
<li class="toctree-l2"><a class="reference internal" href="../4.1_Regression1/regression1_prepwork.html">1.5. Regression models in Python</a></li>

<li class="toctree-l2"><a class="reference internal" href="../4.1_Regression1/regression1_TutorialExercises.html">1.7. Tutorial Exercises</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../4.2_Regression2/regression2_intro.html">2. Multivariate Analysis</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../4.2_Regression2/regression2_concepts.html">2.2. Multivariate Analysis Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../4.2_Regression2/regression2_typesOfRelationship.html">2.3. Different types of multivariate relationship</a></li>
<li class="toctree-l2"><a class="reference internal" href="../4.2_Regression2/regression2_QandA.html">2.4. Multiple Regression Q &amp; A</a></li>
<li class="toctree-l2"><a class="reference internal" href="../4.2_Regression2/VariableTypes.html">2.5. Handling different variable types in regression analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../4.2_Regression2/InteractionTerms.html">2.6. Multivariate analysis and interaction terms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../4.2_Regression2/regression2_TutorialExercises.html">2.7. Tutorial Exercises</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../4.3_Regression3/regression3_intro.html">3. Regression - Statistical Tests</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../4.3_Regression3/regression3_outcomes.html">3.2. Learning Objectives</a></li>
<li class="toctree-l2"><a class="reference internal" href="../4.3_Regression3/regression3_conceptsR2.html">3.3. Model fit: <span class="math notranslate nohighlight">\(R^2\)</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="../4.3_Regression3/regression3_conceptsConditionals.html">3.4. Conditional Distributions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../4.3_Regression3/regression3_conceptsSignificance.html">3.5. Statistical Significance in Regression</a></li>
<li class="toctree-l2"><a class="reference internal" href="../4.3_Regression3/regression3_assumptions.html">3.6. Assumptions in Regression</a></li>
<li class="toctree-l2"><a class="reference internal" href="../4.3_Regression3/regression3_prepwork.html">3.7. Assessing Regression models in Python.</a></li>

<li class="toctree-l2"><a class="reference internal" href="../4.3_Regression3/regression3_TutorialExercises.html">3.9. Tutorial Exercises</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../4.4_Regression4/regression4_intro.html">4. ANOVA</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../4.4_Regression4/regression4_outcomes.html">4.2. Learning Objectives</a></li>
<li class="toctree-l2"><a class="reference internal" href="../4.4_Regression4/regression4_concepts.html">4.3. ANOVA Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../4.4_Regression4/regression4_longhandExample.html">4.4. Longhand calculation example</a></li>
<li class="toctree-l2"><a class="reference internal" href="../4.4_Regression4/regression4_equations.html">4.5. ANOVA Equations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../4.4_Regression4/regression4_KWtest.html">4.6. Kruskall-Wallis test</a></li>
<li class="toctree-l2"><a class="reference internal" href="../4.4_Regression4/regression4_ANOVAregression.html">4.7. ANOVA versus Regression</a></li>
<li class="toctree-l2"><a class="reference internal" href="../4.4_Regression4/regression4_prepwork.html">4.8. ANOVA and Kruskal-Wallis in Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../4.4_Regression4/regression4_TutorialExercises.html">4.9. Tutorial exercises</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../4.5_Regression5/regression5_intro.html">5. Logistic Regression</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../4.5_Regression5/regression5_outcomes.html">5.2. Learning Objectives</a></li>
<li class="toctree-l2"><a class="reference internal" href="../4.5_Regression5/regression5_concepts.html">5.3. Odds, logs and log odds</a></li>
<li class="toctree-l2"><a class="reference internal" href="../4.5_Regression5/regression5_LogisticEquation.html">5.4. Logistic Regression Equation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../4.5_Regression5/regression5_workedExample.html">5.5. Predicted probabilities (worked example)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../4.5_Regression5/regression5_prepwork.html">5.6. Logistic Regression in Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../4.5_Regression5/regression5_TutorialExercises.html">5.7. Tutorial exercises</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../4.6_Regression6/regression6_intro.html">6. Research Design</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../4.6_Regression6/regression6_outcomes.html">6.2. Learning Objectives</a></li>
<li class="toctree-l2"><a class="reference internal" href="../4.6_Regression6/regression6_concepts.html">6.3. Research Design Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../4.6_Regression6/regression6_causality.html">6.4. Causality</a></li>
<li class="toctree-l2"><a class="reference internal" href="../4.6_Regression6/regression6_TutorialExercises.html">6.5. Tutorial exercises</a></li>
</ul>
</details></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://colab.research.google.com/github/jillxoreilly/StatsCourseBook_2025/blob/master/1.3_DataWrangling/1.3.11_TutorialExercises_TutorNotes.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch on Colab"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="Colab logo" src="../_static/images/logo_colab.png">
  </span>
<span class="btn__text-container">Colab</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/jillxoreilly/StatsCourseBook_2025" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/jillxoreilly/StatsCourseBook_2025/issues/new?title=Issue%20on%20page%20%2F1.3_DataWrangling/1.3.11_TutorialExercises_TutorNotes.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/1.3_DataWrangling/1.3.11_TutorialExercises_TutorNotes.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Tutorial Exercises</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction-for-tutors">Introduction for tutors:</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#crime-survey-data">Crime Survey Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#note">Note</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#set-up-python-libraries">Set up Python libraries</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#import-the-data">Import the data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variables-in-the-dataset">Variables in the dataset</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#check-for-bad-values">Check for bad values</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#have-we-got-rid-of-all-the-99-s-now">Have we got rid of all the 99’s now?</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#explore-the-distribution-of-the-variables">Explore the distribution of the variables</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#who-is-most-likely-to-be-a-victim-of-crime">Who is most likely to be a victim of crime?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#disaggregate-the-data">Disaggregate the data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#are-students-victims-of-crime-because-they-live-in-deprived-neighbourhoods">Are students victims of crime because they live in deprived neighbourhoods?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#do-the-patterns-hold-for-all-ethnicities">Do the patterns hold for all ethnicities?</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#do-attitudes-differ-depending-on-demographics">Do attitudes differ depending on demographics?</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#age">Age</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#deprivation-index">Deprivation Index</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ethnic-group">Ethnic Group</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lurking-variables">Lurking Variables?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusions">Conclusions</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="tutorial-exercises">
<h1>Tutorial Exercises<a class="headerlink" href="#tutorial-exercises" title="Link to this heading">#</a></h1>
<p>These tutorial exercises are designed to help you prepare for the first assignment.</p>
<p>As a researcher, there are two distinct phases to data analysis:</p>
<ul class="simple">
<li><p>Understanding the dataset yourself - this involves making lots of quick plots and descriptive statistics to</p>
<ul>
<li><p>check for outliers</p></li>
<li><p>find out the data distributions</p></li>
<li><p>look for differences between categories</p></li>
<li><p>look for associations between variables
<br></p></li>
</ul>
</li>
<li><p>Preparing a report for a reader - this involves a focus on readability and the reader</p>
<ul>
<li><p>explain any key features of the dataset</p></li>
<li><p>highlighting key results with descriptive statistics and figures</p></li>
<li><p>figures should be well labelled and tweaked to make your point as clearly as possible</p></li>
<li><p>there should be clear, readable explanatory text</p></li>
<li><p>for most readers/clients, non technical language should be used</p></li>
<li><p>in all cases, jargon should be avoided</p></li>
</ul>
</li>
</ul>
<p>In these tutorial exercises, you will complete some guided tasks (and some open-ended ones) to explore the dataset for yourself.</p>
<p>For the hand-in assignment, you will produce a report on the same dataset for a specified reader.</p>
<font color=red>
<section id="introduction-for-tutors">
<h2>Introduction for tutors:<a class="headerlink" href="#introduction-for-tutors" title="Link to this heading">#</a></h2>
<p>The idea here is primarily to get students ‘playing around’ with the data - let them make lots of plots and see what they can see. The refined report will come later (for homework).</p>
<p>I find students can be quite focussed on the process of making plots etc actually work (ie the coding - or in the past the process of drawing it with pencil and paper). Of course what we really want them to do is engage with the material thoughtfully as well!</p>
<p>If students object to the open-ended nature of this exercise perhaps you could explain to them that the learning objective is to give them practice in interpreting graphs and descriptive statistics, looking at the output, think about what it means and coming up with some follow-up questions.</p>
<p>A secondary objective is to give them lots of practice with producing graphs and tables and a sense of which settings work well, when.</p>
<p>Below I have my own ‘answers’ to the questions - as you can see it’s really just rough work exploring the dataset. This is the type of thing I am hoping students would produce!</p>
<p>NOTE - one exercise asks them to recognize Z-scored variables. z-scoring was covered in the reading and lecture so this is just consolidation; it might be worth checking that they got it.</p>
</font></section>
<section id="crime-survey-data">
<h2>Crime Survey Data<a class="headerlink" href="#crime-survey-data" title="Link to this heading">#</a></h2>
<p>We will work with a dataset extracted from the Crime Survey England and Wales 2013.</p>
<p>I obtained the data from the UK Data Service, a data repository run by the UK Research Councils. This text is from their introduction to the dataset:</p>
<p><em>The Crime Survey for England and Wales (CSEW) is a face-to-face victimisation survey in which
people resident in households in England and Wales are asked about their experiences of a range of
crimes in the 12 months prior to the interview. Respondents to the survey are also asked about their
perceptions of crime and attitudes towards crime related issues such as the police and criminal justice
system.</em></p>
<p>The dataset I have given you contains only some of the questions that respondants were asked, containing information about the respondants’ individual demographic features, neighbourhood, perceptions of crime and confidence in the police.</p>
<p>The brief for the  hand-in report will be to write a short report for the Home Secretary addressing two topics:</p>
<ol class="arabic simple">
<li><p>Which groups are the most likely to be victims of crime? and</p></li>
<li><p>What factors affect confidence in policing?,</p></li>
</ol>
<p>Note that the idea is to write for a generic Home Secretary  - they have responsibility for Law and Order and as a politician are interested in how different sections of the public perceive these issues. You can assume they have no statistical training. However there is no need to accommodate the political attitudes or personal characteristics of any particular Home Secretary.</p>
<p>In these preparatory exercises you will play around with the data to try and work out which factors are important predictors of that confidence.</p>
<p>I have put my own conclusions at the bottom of this page - this is just to give an idea of the kinds of things you might look at.</p>
<section id="note">
<h3>Note<a class="headerlink" href="#note" title="Link to this heading">#</a></h3>
<p>The survey was conducted in 2013 in the UK. Events of recent years may have affected the confidence of certain groups in the police; this would not be reflected in the data used here.</p>
</section>
<section id="set-up-python-libraries">
<h3>Set up Python libraries<a class="headerlink" href="#set-up-python-libraries" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set-up Python libraries - you need to run this but you don&#39;t need to change it</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">scipy.stats</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">stats</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">seaborn</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sns</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_theme</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">statsmodels.api</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sm</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">statsmodels.formula.api</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">smf</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">warnings</span> 
<span class="n">warnings</span><span class="o">.</span><span class="n">simplefilter</span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="ne">FutureWarning</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="import-the-data">
<h3>Import the data<a class="headerlink" href="#import-the-data" title="Link to this heading">#</a></h3>
<p>Download the dataset from Canvas and import them as a dataframe called <code class="docutils literal notranslate"><span class="pre">crime</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># WARNING! This will only work once you:</span>
<span class="c1"># download the datafile and </span>
<span class="c1"># put it in the right place on your computer!</span>
<span class="n">crime</span>  <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/CrimeData_2013.csv&#39;</span><span class="p">)</span>
<span class="n">crime</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ID</th>
      <th>Sex</th>
      <th>Age</th>
      <th>AgeGroup</th>
      <th>EthnicGroup</th>
      <th>Education</th>
      <th>SES</th>
      <th>DeprivationIndex</th>
      <th>Victim</th>
      <th>confpolice</th>
      <th>antisoc</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>135230170.0</td>
      <td>Male</td>
      <td>45.0</td>
      <td>4</td>
      <td>White</td>
      <td>University</td>
      <td>2.0</td>
      <td>3.0</td>
      <td>0.0</td>
      <td>-2.290506</td>
      <td>-3.42</td>
    </tr>
    <tr>
      <th>1</th>
      <td>135230210.0</td>
      <td>Male</td>
      <td>28.0</td>
      <td>2</td>
      <td>White</td>
      <td>University</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>0.0</td>
      <td>0.349198</td>
      <td>0.52</td>
    </tr>
    <tr>
      <th>2</th>
      <td>135231010.0</td>
      <td>Female</td>
      <td>58.0</td>
      <td>5</td>
      <td>Black or Black British</td>
      <td>99</td>
      <td>5.0</td>
      <td>2.0</td>
      <td>0.0</td>
      <td>-0.381797</td>
      <td>-2.27</td>
    </tr>
    <tr>
      <th>3</th>
      <td>135231210.0</td>
      <td>Male</td>
      <td>70.0</td>
      <td>6</td>
      <td>Asian or Asian British</td>
      <td>GCSE</td>
      <td>3.0</td>
      <td>4.0</td>
      <td>0.0</td>
      <td>99.000000</td>
      <td>99.00</td>
    </tr>
    <tr>
      <th>4</th>
      <td>135233210.0</td>
      <td>Female</td>
      <td>64.0</td>
      <td>5</td>
      <td>White</td>
      <td>Other</td>
      <td>5.0</td>
      <td>5.0</td>
      <td>0.0</td>
      <td>0.613168</td>
      <td>-0.84</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>9295</th>
      <td>147638210.0</td>
      <td>Male</td>
      <td>43.0</td>
      <td>3</td>
      <td>White</td>
      <td>University</td>
      <td>1.0</td>
      <td>99.0</td>
      <td>0.0</td>
      <td>1.029429</td>
      <td>-0.31</td>
    </tr>
    <tr>
      <th>9296</th>
      <td>147639090.0</td>
      <td>Male</td>
      <td>70.0</td>
      <td>6</td>
      <td>White</td>
      <td>99</td>
      <td>5.0</td>
      <td>99.0</td>
      <td>0.0</td>
      <td>-1.051876</td>
      <td>0.45</td>
    </tr>
    <tr>
      <th>9297</th>
      <td>147639130.0</td>
      <td>Female</td>
      <td>80.0</td>
      <td>7</td>
      <td>White</td>
      <td>99</td>
      <td>5.0</td>
      <td>99.0</td>
      <td>0.0</td>
      <td>-0.808211</td>
      <td>-0.27</td>
    </tr>
    <tr>
      <th>9298</th>
      <td>147639250.0</td>
      <td>Male</td>
      <td>86.0</td>
      <td>7</td>
      <td>White</td>
      <td>University</td>
      <td>1.0</td>
      <td>99.0</td>
      <td>0.0</td>
      <td>-1.711802</td>
      <td>0.56</td>
    </tr>
    <tr>
      <th>9299</th>
      <td>147639290.0</td>
      <td>Male</td>
      <td>70.0</td>
      <td>6</td>
      <td>White</td>
      <td>99</td>
      <td>2.0</td>
      <td>99.0</td>
      <td>0.0</td>
      <td>0.115685</td>
      <td>1.22</td>
    </tr>
  </tbody>
</table>
<p>9300 rows × 11 columns</p>
</div></div></div>
</div>
</section>
<section id="variables-in-the-dataset">
<h3>Variables in the dataset<a class="headerlink" href="#variables-in-the-dataset" title="Link to this heading">#</a></h3>
<p>Information about the respondant and their neighbourhood:</p>
<ul class="simple">
<li><p><strong>ID</strong> a unique number for each participant</p></li>
<li><p><strong>Sex</strong></p></li>
<li><p><strong>Age</strong> in years</p></li>
<li><p><strong>Age Group</strong> ages in 10-year groups</p></li>
<li><p><strong>Ethnic Group</strong> the categories given are the ones recorded in the original survey</p></li>
<li><p><strong>Education</strong> highest level of education completed; modern British qualifications are used as a short hand for any equivalent, for example ‘A-Levels’ includes any equivalent of completing high school to age 18.</p></li>
<li><p><strong>SES</strong> socio-economic status</p>
<ul>
<li><ol class="arabic simple">
<li><p>Managerial and professional occs</p></li>
</ol>
</li>
<li><ol class="arabic simple" start="2">
<li><p>Intermediate occs</p></li>
</ol>
</li>
<li><ol class="arabic simple" start="3">
<li><p>Small employers and own account workers</p></li>
</ol>
</li>
<li><ol class="arabic simple" start="4">
<li><p>Lower supervisory and technical occupations</p></li>
</ol>
</li>
<li><ol class="arabic simple" start="5">
<li><p>Semi-routine and routine occupations</p></li>
</ol>
</li>
<li><ol class="arabic simple" start="6">
<li><p>Never worked and long term unemployed</p></li>
</ol>
</li>
<li><ol class="arabic simple" start="7">
<li><p>Full-time students</p></li>
</ol>
</li>
<li><ol class="arabic simple" start="8">
<li><p>Not classified</p></li>
</ol>
</li>
</ul>
</li>
<li><p><strong>Deprivation Index</strong> this is a neighbourhood-level measure of poverty, in qunitiles</p>
<ul>
<li><p>1 is the most deprived (poorest) 20% of neighbourhoods</p></li>
<li><p>5 is the least deprived (wealthiest) 20%</p></li>
</ul>
</li>
<li><p><strong>Victim</strong> has the respondant been a victim of crime in the last 12 months?</p></li>
</ul>
<p>The following variables are <strong>constructed</strong> variables summarizing the respondant’s attitudes on the following points:</p>
<ul class="simple">
<li><p><strong>confpolice</strong> how confident are you in the policing of your neighbourhood?</p></li>
<li><p><strong>antisoc</strong> how much antisocial behaviour is there in your neighbourhood?</p></li>
</ul>
<p>Each variable actually reflects a combination of the respondant’s answers to several questions; for example <strong>antisoc</strong> is based on several questions asking about different antisocial behaviours- ‘is there vandalism in your neighbourhood’, ‘are there gangs present in your neighbourhood’, ‘is there a fly tipping problem in your neighbourhood’ etc):</p>
</section>
</section>
<section id="check-for-bad-values">
<h2>Check for bad values<a class="headerlink" href="#check-for-bad-values" title="Link to this heading">#</a></h2>
<p>Are there any outliers of filler values (such as <code class="docutils literal notranslate"><span class="pre">9999</span></code>) in the dataset?</p>
<ul class="simple">
<li><p>check, and deal with them appropriately</p></li>
</ul>
<p><font color=red>I would suggest starting with <code class="docutils literal notranslate"><span class="pre">df.describe()</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Your code here</span>
<span class="n">crime</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ID</th>
      <th>Age</th>
      <th>AgeGroup</th>
      <th>SES</th>
      <th>DeprivationIndex</th>
      <th>Victim</th>
      <th>confpolice</th>
      <th>antisoc</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>9.300000e+03</td>
      <td>9300.00000</td>
      <td>9300.000000</td>
      <td>9300.000000</td>
      <td>9300.000000</td>
      <td>9300.000000</td>
      <td>9300.000000</td>
      <td>9300.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>1.387841e+08</td>
      <td>51.52828</td>
      <td>4.155376</td>
      <td>2.946559</td>
      <td>10.769032</td>
      <td>0.156022</td>
      <td>6.589355</td>
      <td>6.643392</td>
    </tr>
    <tr>
      <th>std</th>
      <td>4.422820e+06</td>
      <td>18.81575</td>
      <td>1.830384</td>
      <td>1.852283</td>
      <td>26.129501</td>
      <td>0.362895</td>
      <td>24.696669</td>
      <td>24.788734</td>
    </tr>
    <tr>
      <th>min</th>
      <td>1.352302e+08</td>
      <td>16.00000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>-3.894633</td>
      <td>-4.010000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>1.363271e+08</td>
      <td>36.00000</td>
      <td>3.000000</td>
      <td>1.000000</td>
      <td>2.000000</td>
      <td>0.000000</td>
      <td>-0.361492</td>
      <td>-0.530000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>1.367402e+08</td>
      <td>51.00000</td>
      <td>4.000000</td>
      <td>3.000000</td>
      <td>3.000000</td>
      <td>0.000000</td>
      <td>0.156296</td>
      <td>0.240000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>1.371590e+08</td>
      <td>66.00000</td>
      <td>6.000000</td>
      <td>5.000000</td>
      <td>5.000000</td>
      <td>0.000000</td>
      <td>0.663932</td>
      <td>0.990000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>1.476393e+08</td>
      <td>99.00000</td>
      <td>7.000000</td>
      <td>8.000000</td>
      <td>99.000000</td>
      <td>1.000000</td>
      <td>99.000000</td>
      <td>99.000000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<font color=red>
We notice that the maximum value for several variables is 99.
<p>Looking at the 75th centile (eg for <code class="docutils literal notranslate"><span class="pre">deprivation</span> <span class="pre">index</span></code> and <code class="docutils literal notranslate"><span class="pre">confpolice</span></code>), 99 may be a filler value. For age, maybe not as the 75th centile is not so far from 99 and 99 could be a real age.</p>
<p>Let’s plot the suspicious variables to find out more:
</font></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">crime</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Age&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">crime</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;DeprivationIndex&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">crime</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;confpolice&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">crime</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;antisoc&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/8b77e38849f58fbbfdab2673dbc92a6a9f1e7839130bdd51a99e0efdce74813c.png" src="../_images/8b77e38849f58fbbfdab2673dbc92a6a9f1e7839130bdd51a99e0efdce74813c.png" />
</div>
</div>
<font color='red'>
OK it looks like 99 was a filler value for `DeprivationIndex`, `confpolice` and `antisoc` as for those variables the rest fo the data are clustered miles away from 99.
<p>I will replace the 99’s with <code class="docutils literal notranslate"><span class="pre">NaN</span></code> for those variables and replot.
</font></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">crime</span><span class="o">.</span><span class="n">DeprivationIndex</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="mi">99</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">NaN</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> 
<span class="n">crime</span><span class="o">.</span><span class="n">confpolice</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="mi">99</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">NaN</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> 
<span class="n">crime</span><span class="o">.</span><span class="n">antisoc</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="mi">99</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">NaN</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> 

<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">crime</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Age&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">crime</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;DeprivationIndex&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">crime</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;confpolice&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">crime</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;antisoc&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">AttributeError</span><span class="g g-Whitespace">                            </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">crime</span><span class="o">.</span><span class="n">DeprivationIndex</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="mi">99</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">NaN</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> 
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="n">crime</span><span class="o">.</span><span class="n">confpolice</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="mi">99</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">NaN</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> 
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="n">crime</span><span class="o">.</span><span class="n">antisoc</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="mi">99</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">NaN</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> 

<span class="nn">File /opt/miniconda3/envs/clean_env/lib/python3.11/site-packages/numpy/__init__.py:400,</span> in <span class="ni">__getattr__</span><span class="nt">(attr)</span>
<span class="g g-Whitespace">    </span><span class="mi">397</span>     <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="n">__former_attrs__</span><span class="p">[</span><span class="n">attr</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">399</span> <span class="k">if</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">__expired_attributes__</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">400</span>     <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">401</span>         <span class="sa">f</span><span class="s2">&quot;`np.</span><span class="si">{</span><span class="n">attr</span><span class="si">}</span><span class="s2">` was removed in the NumPy 2.0 release. &quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">402</span>         <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">__expired_attributes__</span><span class="p">[</span><span class="n">attr</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">403</span>         <span class="n">name</span><span class="o">=</span><span class="kc">None</span>
<span class="g g-Whitespace">    </span><span class="mi">404</span>     <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">406</span> <span class="k">if</span> <span class="n">attr</span> <span class="o">==</span> <span class="s2">&quot;chararray&quot;</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">407</span>     <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">408</span>         <span class="s2">&quot;`np.chararray` is deprecated and will be removed from &quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">409</span>         <span class="s2">&quot;the main namespace in the future. Use an array with a string &quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">410</span>         <span class="s2">&quot;or bytes dtype instead.&quot;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">,</span> <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="ne">AttributeError</span>: `np.NaN` was removed in the NumPy 2.0 release. Use `np.nan` instead.
</pre></div>
</div>
</div>
</div>
<font color=red>
OK that seems to have worked for `DeprivationIndex`, `confpolice` and `antisoc` as there are now no outliers (the histograms still look horrible due to the choice of bins; we could fix that by specifying the argument `bins=np.arange(-5,5)` or similar)
<p>For <code class="docutils literal notranslate"><span class="pre">Age</span></code> I am still not sure what to do with those 99s, so I am going to zoom in on the tail of the distribution:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">crime</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Age&#39;</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">105</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">([</span><span class="mi">95</span> <span class="p">,</span><span class="mi">105</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">40</span><span class="p">])</span> <span class="c1"># I added this after the first time I made the plot!</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(0.0, 40.0)
</pre></div>
</div>
<img alt="../_images/ee1a53ef703f1e787d4e5c7036447d7557a18bd6d2f4ff4d4b8b856af1304535.png" src="../_images/ee1a53ef703f1e787d4e5c7036447d7557a18bd6d2f4ff4d4b8b856af1304535.png" />
</div>
</div>
<font color=red>
<p>There are a suspiciously large number of 99 year olds (ie, many more 99- than 98-year-olds) so I am going to conclude it was a filler value and replace them with <code class="docutils literal notranslate"><span class="pre">NaN</span></code>.</p>
<p>This was not a good choice of filler value! They should have used 999 instead!</p>
</font><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">crime</span><span class="o">.</span><span class="n">Age</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="mi">99</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">NaN</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> 
</pre></div>
</div>
</div>
</div>
<section id="have-we-got-rid-of-all-the-99-s-now">
<h3>Have we got rid of all the 99’s now?<a class="headerlink" href="#have-we-got-rid-of-all-the-99-s-now" title="Link to this heading">#</a></h3>
<p>We actually haven’t. When we checked the dataframe using <code class="docutils literal notranslate"><span class="pre">df.describe()</span></code>, we only checked the numerical variables, but some of the variables coded as strings also have missing values coded as 99.</p>
<p>Have a look back at the dataframe and see if you can spot (and remove) them…</p>
<p>Let’s check what string variables were in the dataframe:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Display the dataframe again to remind yourself what string variables there are</span>
<span class="n">crime</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ID</th>
      <th>Sex</th>
      <th>Age</th>
      <th>AgeGroup</th>
      <th>EthnicGroup</th>
      <th>Education</th>
      <th>SES</th>
      <th>DeprivationIndex</th>
      <th>Victim</th>
      <th>confpolice</th>
      <th>antisoc</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>135230170.0</td>
      <td>Male</td>
      <td>45.0</td>
      <td>4</td>
      <td>White</td>
      <td>University</td>
      <td>2.0</td>
      <td>3.0</td>
      <td>0.0</td>
      <td>-2.290506</td>
      <td>-3.42</td>
    </tr>
    <tr>
      <th>1</th>
      <td>135230210.0</td>
      <td>Male</td>
      <td>28.0</td>
      <td>2</td>
      <td>White</td>
      <td>University</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>0.0</td>
      <td>0.349198</td>
      <td>0.52</td>
    </tr>
    <tr>
      <th>2</th>
      <td>135231010.0</td>
      <td>Female</td>
      <td>58.0</td>
      <td>5</td>
      <td>Black or Black British</td>
      <td>99</td>
      <td>5.0</td>
      <td>2.0</td>
      <td>0.0</td>
      <td>-0.381797</td>
      <td>-2.27</td>
    </tr>
    <tr>
      <th>3</th>
      <td>135231210.0</td>
      <td>Male</td>
      <td>70.0</td>
      <td>6</td>
      <td>Asian or Asian British</td>
      <td>GCSE</td>
      <td>3.0</td>
      <td>4.0</td>
      <td>0.0</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>135233210.0</td>
      <td>Female</td>
      <td>64.0</td>
      <td>5</td>
      <td>White</td>
      <td>Other</td>
      <td>5.0</td>
      <td>5.0</td>
      <td>0.0</td>
      <td>0.613168</td>
      <td>-0.84</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Now we check whether there are any ‘99’s using <code class="docutils literal notranslate"><span class="pre">df.column.unique()</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">crime</span><span class="o">.</span><span class="n">Sex</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">crime</span><span class="o">.</span><span class="n">EthnicGroup</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">crime</span><span class="o">.</span><span class="n">Education</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Male&#39; &#39;Female&#39;]
[&#39;White&#39; &#39;Black or Black British&#39; &#39;Asian or Asian British&#39;
 &#39;Chinese or other&#39; &#39;99&#39; &#39;Mixed&#39;]
[&#39;University&#39; &#39;99&#39; &#39;GCSE&#39; &#39;Other&#39; &#39;ALevel&#39;]
</pre></div>
</div>
</div>
</div>
<p>Now we replace the 99’s.</p>
<p><strong>Hint:</strong> the 99’s in these strong variables are the string ‘99’, not the number <code class="docutils literal notranslate"><span class="pre">99</span></code>!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">crime</span><span class="o">.</span><span class="n">Sex</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;99&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">NaN</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> 
<span class="n">crime</span><span class="o">.</span><span class="n">EthnicGroup</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;99&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">NaN</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> 
<span class="n">crime</span><span class="o">.</span><span class="n">Education</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;99&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">NaN</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> 

<span class="c1"># Check it worked!</span>
<span class="nb">print</span><span class="p">(</span><span class="n">crime</span><span class="o">.</span><span class="n">Sex</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">crime</span><span class="o">.</span><span class="n">EthnicGroup</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">crime</span><span class="o">.</span><span class="n">Education</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Male&#39; &#39;Female&#39;]
[&#39;White&#39; &#39;Black or Black British&#39; &#39;Asian or Asian British&#39;
 &#39;Chinese or other&#39; nan &#39;Mixed&#39;]
[&#39;University&#39; nan &#39;GCSE&#39; &#39;Other&#39; &#39;ALevel&#39;]
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="explore-the-distribution-of-the-variables">
<h2>Explore the distribution of the variables<a class="headerlink" href="#explore-the-distribution-of-the-variables" title="Link to this heading">#</a></h2>
<p>Now you will explore each variable individually by making suitable graphs. Complete each code block to produce a suitable plot or descriptive statistic. There are no right answers but in each case you should look at what you produced and evaluate whether your learned something from it!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Are there more men or women in the sample?</span>
<span class="n">sns</span><span class="o">.</span><span class="n">countplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">crime</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Sex&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/e69955d23521065581a9e3ab64f7894260edcabd58e8d232da5e7adcbcb841f6.png" src="../_images/e69955d23521065581a9e3ab64f7894260edcabd58e8d232da5e7adcbcb841f6.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># What ages were included in the survey and what is the distribution of respondants&#39; ages?</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">crime</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Age&#39;</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">100</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">crime</span><span class="o">.</span><span class="n">Age</span><span class="o">.</span><span class="n">min</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">crime</span><span class="o">.</span><span class="n">Age</span><span class="o">.</span><span class="n">max</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/4168cbcc4c9ddc6813c864c33550d5959eb9d227a19f3a2b1f17f89f2ebef602.png" src="../_images/4168cbcc4c9ddc6813c864c33550d5959eb9d227a19f3a2b1f17f89f2ebef602.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>16.0
98.0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># What are the bins used for the variable AgeGroup?</span>
<span class="c1"># hint: the `hue` argument of sns.histplot can help you here</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">crime</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Age&#39;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;AgeGroup&#39;</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">100</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/7b880cfd6e75fee9895b3f11bbd5f060c8b386e5452ac7632c11f3a97a094095.png" src="../_images/7b880cfd6e75fee9895b3f11bbd5f060c8b386e5452ac7632c11f3a97a094095.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># How many respondants came from each ethnic group?</span>
<span class="c1"># Hint: you may need to resize the firgue so the x-axis labels are readable</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">countplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">crime</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;EthnicGroup&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">crime</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;EthnicGroup&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">ID</span><span class="o">.</span><span class="n">count</span><span class="p">()</span> <span class="c1"># I counted the IDs in each ethnic group - without this you woudl get a table giving the counts for each variable (minus missing data) in each ethnic group</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/58bef8e6932dcbaa0f6ee570adc3d95d05b29681f39ab14d65832f33159fae55.png" src="../_images/58bef8e6932dcbaa0f6ee570adc3d95d05b29681f39ab14d65832f33159fae55.png" />
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>EthnicGroup
Asian or Asian British     390
Black or Black British     255
Chinese or other           116
Mixed                       81
White                     8445
Name: ID, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># What proportion of respondants have been a victim of crime in the last 12 months?</span>
<span class="c1"># Hint: `victim` is coded as 1 or 0</span>
<span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">crime</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Victim&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">crime</span><span class="o">.</span><span class="n">Victim</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span> <span class="c1"># get nummerical value</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/da49473658e99edaf513afca759e969756987a929948b990beb25df25353ec5d.png" src="../_images/da49473658e99edaf513afca759e969756987a929948b990beb25df25353ec5d.png" />
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.1560215053763441
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># For each of the constructed variables (confpolice and antisoc) plot the distribution</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">sns</span><span class="o">.</span><span class="n">kdeplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">crime</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;confpolice&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="n">sns</span><span class="o">.</span><span class="n">kdeplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">crime</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;antisoc&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(),</span> <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/a094f87e26fba042dd0c6ab250f2dc8fe2c7e8bef03f6f30764a1c528f403a03.png" src="../_images/a094f87e26fba042dd0c6ab250f2dc8fe2c7e8bef03f6f30764a1c528f403a03.png" />
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(None, None)
</pre></div>
</div>
</div>
</div>
<p><strong>NOTE -</strong>
We note that these variables take positive and negative values</p>
<ul class="simple">
<li><p>For confidence in the police there is a strong spike around zero (many people have a neutral attitude - or are they disengaged or have no experience with the police? - later we will break this down by victims/non victims) - there is also a strong positive tail</p></li>
<li><p>For perceptions of ‘antisocial behaviour in my neighbourhood’ there is a strong positive tail - could it depend on neighbourhood characteristics?</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Is there a correlation between people&#39;s experience of antisocial behaviour, and their confidence in the police?</span>
<span class="n">crime</span><span class="o">.</span><span class="n">confpolice</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">crime</span><span class="o">.</span><span class="n">antisoc</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.22781299372757607
</pre></div>
</div>
</div>
</div>
<font color=red>
Yes there is a positive correlation, whihc means that those who report higher levels of antisocial behaviour in their neighbourhood also have high confidence in the police. Students might like to consider whether this is expected or surprising (I think it is somewhat surprising!). 
<p>Later we will see that theree may be a <em>lurking variable</em> that explains this correlation, namely that older people tend to report higher levels of antisocial behvaiour (despite presumably living int he same neighb ourhood as everyone else) and also tend to have higher confidence in the police.
</font></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># For the attitude variables (confpolice and antisoc) what is the mean and standard deviation?</span>
<span class="c1"># Can you guess how these attitude variables ended up with that mean and standard deviation (think back to the section on standardizing data)?</span>
<span class="n">crime</span><span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s1">&#39;confpolice&#39;</span><span class="p">:[</span><span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="s1">&#39;std&#39;</span><span class="p">],</span> <span class="s1">&#39;antisoc&#39;</span><span class="p">:[</span><span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="s1">&#39;std&#39;</span><span class="p">]})</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>confpolice</th>
      <th>antisoc</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>mean</th>
      <td>-2.864762e-17</td>
      <td>0.000870</td>
    </tr>
    <tr>
      <th>std</th>
      <td>1.000000e+00</td>
      <td>1.000872</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>The means are 1 and the sd is 0 for each - they have been Z-scored.</p>
<font color=red>
You may need to discuss the use of scientific notation with students, who might not understand e-17 etc 
<p>You might need to alert students to the fact that a tiny tiny number is basically zero (due to noise/rounding error)</p>
<p>Note that you can see the values more clearly if you suppress scientific notation by including the code snippet <code class="docutils literal notranslate"><span class="pre">pd.options.display.float_format</span> <span class="pre">=</span> <span class="pre">'{:.2f}'.format</span></code> - you could add it to the ‘load libraries block` or add it here (but it then applies to any code blocks you run in future)</p>
<p>eg:
</font></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#pd.options.display.float_format = &#39;{:.2f}&#39;.format</span>
<span class="n">crime</span><span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s1">&#39;confpolice&#39;</span><span class="p">:[</span><span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="s1">&#39;std&#39;</span><span class="p">],</span> <span class="s1">&#39;antisoc&#39;</span><span class="p">:[</span><span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="s1">&#39;std&#39;</span><span class="p">]})</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>confpolice</th>
      <th>antisoc</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>mean</th>
      <td>-2.864762e-17</td>
      <td>0.000870</td>
    </tr>
    <tr>
      <th>std</th>
      <td>1.000000e+00</td>
      <td>1.000872</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Which variables have a lot of missing data?</span>
<span class="c1"># HINT use df.isna() and sum()</span>
<span class="n">crime</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>ID                     0
Sex                    0
Age                    0
AgeGroup               0
EthnicGroup           13
Education           1993
SES                    0
DeprivationIndex     748
Victim                 0
confpolice           619
antisoc              624
dtype: int64
</pre></div>
</div>
</div>
</div>
<font color = red>
Most of the demgraphic variables are near-complete (the exception is `Education`)
<p>The constructed attitude variables (<code class="docutils literal notranslate"><span class="pre">confpolice</span></code> and <code class="docutils literal notranslate"><span class="pre">antisoc</span></code> are incomplete for a high number of respondants.</p>
<p>You or your students might be interested in whether non-response is higher for certain groups and this about why that might be - for example might migrants be less likely to report their level of education due to lack of familiarity with the categories offered, which are based ont he UK system?</p>
<p>Note that for the attitude variables, the real reason for the missing responses it that the survey was given in a partical form to different sets of respondants (ie not everyone in the dataset was asked those questions)</p>
<p>Annoyingly I can find no straightforward way to integrate <code class="docutils literal notranslate"><span class="pre">df.isna()</span></code> and <code class="docutils literal notranslate"><span class="pre">df.groupby()</span></code> - there are ways but they are all fiddly. You can check using df.count() and df.size() as below but only for one variable at a time.</p>
<p>If anyone knows a good solution to this please let me know!</p>
<p>Incidentally, playing around with this I think the groups with the lower response rates are ‘Chinese and Other’ ethnic group and the ‘Other’ education group</p>
<p>Here is an example:
</font></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">crime</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;EthnicGroup&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">Education</span><span class="o">.</span><span class="n">count</span><span class="p">()</span><span class="o">/</span><span class="n">crime</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;EthnicGroup&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">Education</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>EthnicGroup
Asian or Asian British    0.774359
Black or Black British    0.866667
Chinese or other          0.862069
Mixed                     0.839506
White                     0.782475
Name: Education, dtype: float64
</pre></div>
</div>
</div>
</div>
</section>
<section id="who-is-most-likely-to-be-a-victim-of-crime">
<h2>Who is most likely to be a victim of crime?<a class="headerlink" href="#who-is-most-likely-to-be-a-victim-of-crime" title="Link to this heading">#</a></h2>
<p>Explore which demographic variables make a difference to the chance of being a victim of crime. Are more men than women victims of crime? etc</p>
<p><strong>HINT</strong> as <code class="docutils literal notranslate"><span class="pre">Victim&lt;</span></code> is coded as 1 (if they have been a victim of crime in the past 12 months) and 0 (otherwise), you can obtain the proportion of people who have been a victim by taking the mean value of the column <code class="docutils literal notranslate"><span class="pre">Victim</span></code>.</p>
<p>You can also use <code class="docutils literal notranslate"><span class="pre">sns.barplot()</span></code> with the <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">hue</span></code> arguments to plot the proportion who are victims of crime within each category (each age group, etc).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># You will add several code blocks here to explore the data</span>
</pre></div>
</div>
</div>
</div>
<font color = red>
The most likely people to be victims of crime are young people, students, and those living in areas of high deprivation
</font><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">crime</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Sex&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Victim&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/2366b2a10e3f7496d949fe5598a995ae17a9868a29fb8db9df9e015c54825ebd.png" src="../_images/2366b2a10e3f7496d949fe5598a995ae17a9868a29fb8db9df9e015c54825ebd.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">crime</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;EthnicGroup&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Victim&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/088452c9cf080371a6095820f22a93e9bc36289296655067b48c83e9eb4e93c3.png" src="../_images/088452c9cf080371a6095820f22a93e9bc36289296655067b48c83e9eb4e93c3.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">crime</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;AgeGroup&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Victim&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/916dd8efb8f709689de931e473b28138ce69a042019bd72eca977cce1cde3648.png" src="../_images/916dd8efb8f709689de931e473b28138ce69a042019bd72eca977cce1cde3648.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">crime</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;SES&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Victim&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/2d1953b1a414ab2d208188c8b571d87585a45185aebc22c8cbfa7e5b1095c67d.png" src="../_images/2d1953b1a414ab2d208188c8b571d87585a45185aebc22c8cbfa7e5b1095c67d.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">crime</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;DeprivationIndex&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Victim&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/b025bcbb0477800a4eb168167dc6bab1a396208329f4d3aa5a78ae715ad5ea19.png" src="../_images/b025bcbb0477800a4eb168167dc6bab1a396208329f4d3aa5a78ae715ad5ea19.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">crime</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;Sex&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Victim&#39;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;EthnicGroup&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/f8c0e2752270744284afa85b8bb74d6ff6e95c7f8819ac4df783c5a07584430f.png" src="../_images/f8c0e2752270744284afa85b8bb74d6ff6e95c7f8819ac4df783c5a07584430f.png" />
</div>
</div>
</section>
<section id="disaggregate-the-data">
<h2>Disaggregate the data<a class="headerlink" href="#disaggregate-the-data" title="Link to this heading">#</a></h2>
<p>In the lecture we heard that a pattern that holds in one group of respondants may not hold for another group. We can check this by <strong>disaggregating</strong> the data.</p>
<section id="are-students-victims-of-crime-because-they-live-in-deprived-neighbourhoods">
<h3>Are students victims of crime because they live in deprived neighbourhoods?<a class="headerlink" href="#are-students-victims-of-crime-because-they-live-in-deprived-neighbourhoods" title="Link to this heading">#</a></h3>
<p>Try plotting the proportion of people who are victime of crime broken down by deprivation index (as above), but further broken down by SES</p>
<p><strong>HINT:</strong> Use the <code class="docutils literal notranslate"><span class="pre">hue</span></code> argument to get clusters of bars for each level of SES</p>
<font color = red>
Interestingly, whilst for most people there is a relationship between deprivation index and likeligood of being a victim of crime, this relationship breaks down for under 25's and for those in the student, unemployed and unclassified SES brackets.
</font><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">crime</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;SES&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Victim&#39;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;DeprivationIndex&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Deprivation Index&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/6e47967e497ab53757f4e8eb092e4020fa4d2da56ddca34b0488df98b44a036f.png" src="../_images/6e47967e497ab53757f4e8eb092e4020fa4d2da56ddca34b0488df98b44a036f.png" />
</div>
</div>
</section>
<section id="do-the-patterns-hold-for-all-ethnicities">
<h3>Do the patterns hold for all ethnicities?<a class="headerlink" href="#do-the-patterns-hold-for-all-ethnicities" title="Link to this heading">#</a></h3>
<p>The proportion of people who are victims of crime falls with age overall.</p>
<p>But is this true for all ethnicities?</p>
<p>The survey respondants were overwhelmingly white, so even if there was a quite different pattern of victimization in other ethnic groups, when we simply average everyone together this effect would be ‘swamped’</p>
<p>Try plotting the proportion of people who are victims, broken down by <code class="docutils literal notranslate"><span class="pre">AgeGroup</span></code>, and further broken down by <code class="docutils literal notranslate"><span class="pre">EthinicGroup</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">crime</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;AgeGroup&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Victim&#39;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;EthnicGroup&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/f09f63b805bb7454fa2e93c90e3e3080ce0c9aa9b8ff838aee3cd4e7e86eafa2.png" src="../_images/f09f63b805bb7454fa2e93c90e3e3080ce0c9aa9b8ff838aee3cd4e7e86eafa2.png" />
</div>
</div>
<font color=red>
<p>Indeed, the pattern seen for white people is not convincingly replicated in other ethnic groups.</p>
<p>An important caveat is that although we may be unable to really see a pattern in the non-white groups as the number of respondants in these groups is much smaller.</p>
<p>You could discuss with students the implications of this; the survey is a representative sample of the UK population (which is why non-white groups have fewer people sampled). So the overall (aggregate) results represent the average experience int he country. But if the pattern was very different in minority groups, this would not be apparent (unless we disaggregate the data).</p>
<p>Undersampling of minority ethnic groups has lead to the ‘masking’ of unequal outcomes (for example, black women are much more likely to suffer harm in childbirth in the UK and the USA, which for a long time was not noticed because no-one disaggregated the data). This is also an issue that affects women, not because women are a minority group, but because they are understudied, especially in medical research (as discussed int he Lecture)</p>
</font></section>
</section>
<section id="do-attitudes-differ-depending-on-demographics">
<h2>Do attitudes differ depending on demographics?<a class="headerlink" href="#do-attitudes-differ-depending-on-demographics" title="Link to this heading">#</a></h2>
<p>Looking at the attitude variables (<code class="docutils literal notranslate"><span class="pre">confpolice</span></code> and <code class="docutils literal notranslate"><span class="pre">antisoc</span></code>), which demographic factors seem to influence these?</p>
<p>I found it most helpful to make barplots for each attitude variable, broken down by demographic factors (such as deprivation index or age group).</p>
<p>Go ahead and explore the breakdown of <code class="docutils literal notranslate"><span class="pre">confpolice</span></code> and <code class="docutils literal notranslate"><span class="pre">antisoc</span></code> by <code class="docutils literal notranslate"><span class="pre">AgeGroup</span></code>, <code class="docutils literal notranslate"><span class="pre">EthnicGroup</span></code> and <code class="docutils literal notranslate"><span class="pre">DeprivationIndex</span></code></p>
<font color=red>
<p>You may notice that respondants’ experience of antisocial behaviour tends to be higher in groups who are more likely to be victims of crime (young people, low SES and those living in areas of high deprivation).</p>
</font>
<section id="age">
<h3>Age<a class="headerlink" href="#age" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">crime</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;confpolice&#39;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;AgeGroup&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">crime</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;antisoc&#39;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;AgeGroup&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/ca9df7741bf5e30c58ae21dca0942d03b7a582962bf3bc70c28c2b7b8f0753c7.png" src="../_images/ca9df7741bf5e30c58ae21dca0942d03b7a582962bf3bc70c28c2b7b8f0753c7.png" />
</div>
</div>
</section>
</section>
<section id="deprivation-index">
<h2>Deprivation Index<a class="headerlink" href="#deprivation-index" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">crime</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;confpolice&#39;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;DeprivationIndex&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">crime</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;antisoc&#39;</span><span class="p">,</span>  <span class="n">x</span><span class="o">=</span><span class="s1">&#39;DeprivationIndex&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/c252d8fb0286c71aedbedfccd67d8cde4beee547b7aa869e0781d4fed2b1ca61.png" src="../_images/c252d8fb0286c71aedbedfccd67d8cde4beee547b7aa869e0781d4fed2b1ca61.png" />
</div>
</div>
</section>
<section id="ethnic-group">
<h2>Ethnic Group<a class="headerlink" href="#ethnic-group" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">crime</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;confpolice&#39;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;EthnicGroup&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">crime</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;antisoc&#39;</span><span class="p">,</span>  <span class="n">x</span><span class="o">=</span><span class="s1">&#39;EthnicGroup&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/f554cfc5f17b6ce096010d7a0e583b5061a44ae5fc42ae7150583fbcca965d31.png" src="../_images/f554cfc5f17b6ce096010d7a0e583b5061a44ae5fc42ae7150583fbcca965d31.png" />
</div>
</div>
</section>
<section id="lurking-variables">
<h2>Lurking Variables?<a class="headerlink" href="#lurking-variables" title="Link to this heading">#</a></h2>
<p>Earlier we noticed that people who reported higher levels of antisocial behaviour in their neighbourhood also had higher confidence in the police, which is somewhat surprising.</p>
<p>Looking at how <code class="docutils literal notranslate"><span class="pre">confpolice</span></code> and <code class="docutils literal notranslate"><span class="pre">antisoc</span></code> vary by <code class="docutils literal notranslate"><span class="pre">AgeGroup</span></code>, can you think of a spurious explanation for this correlation?</p>
</section>
<section id="conclusions">
<h2>Conclusions<a class="headerlink" href="#conclusions" title="Link to this heading">#</a></h2>
<p>Now think about how you might summarize what you have learned from the dataset</p>
<ul class="simple">
<li><p>who is most likely to be a victim of crime?</p></li>
<li><p>who is most likely to report high levels of antisocial behaviour in their neighbourhood?</p></li>
<li><p>what factors predict confidence in the police and experience of antisocial behaviour?</p></li>
<li><p>what are the limitations of the survey? Are the experiences of all groups equally well documented?</p></li>
</ul>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./1.3_DataWrangling"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction-for-tutors">Introduction for tutors:</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#crime-survey-data">Crime Survey Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#note">Note</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#set-up-python-libraries">Set up Python libraries</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#import-the-data">Import the data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variables-in-the-dataset">Variables in the dataset</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#check-for-bad-values">Check for bad values</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#have-we-got-rid-of-all-the-99-s-now">Have we got rid of all the 99’s now?</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#explore-the-distribution-of-the-variables">Explore the distribution of the variables</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#who-is-most-likely-to-be-a-victim-of-crime">Who is most likely to be a victim of crime?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#disaggregate-the-data">Disaggregate the data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#are-students-victims-of-crime-because-they-live-in-deprived-neighbourhoods">Are students victims of crime because they live in deprived neighbourhoods?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#do-the-patterns-hold-for-all-ethnicities">Do the patterns hold for all ethnicities?</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#do-attitudes-differ-depending-on-demographics">Do attitudes differ depending on demographics?</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#age">Age</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#deprivation-index">Deprivation Index</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ethnic-group">Ethnic Group</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lurking-variables">Lurking Variables?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusions">Conclusions</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Jill O'Reilly & Lindsay Richards
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>